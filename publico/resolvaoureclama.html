<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resolve ou Reclama? por Victor Cruzetta</title>

    <!-- Tags para Pré-visualização (Open Graph) para WhatsApp, Facebook, etc. -->
    <meta property="og:title" content="Resolve ou Reclama? por Victor Cruzetta">
    <meta property="og:description" content="O manual prático para parar de reagir com base na emoção e começar a agir com base na resolução.">
    <meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/WhatsApp%20Image%202025-07-15%20at%2019.49.51.jpeg?alt=media&token=582e0595-d6e7-4039-9ef2-74f2ed6a0dfe">
    <meta property="og:url" content="https://platamais.web.app/resolvaoureclama.html">
    <meta property="og:type" content="book">

    <!-- Tags para Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Resolve ou Reclama? por Victor Cruzetta">
    <meta name="twitter:description" content="O manual prático para parar de reagir com base na emoção e começar a agir com base na resolução.">
    <meta name="twitter:image" content="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/WhatsApp%20Image%202025-07-15%20at%2019.49.51.jpeg?alt=media&token=582e0595-d6e7-4039-9ef2-74f2ed6a0dfe">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Font Awesome para o ícone do PIX -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #030712; /* Richer Black */
            color: #d1d5db; /* text-gray-300 */
            scroll-behavior: smooth;
        }
        .text-glow-yellow { text-shadow: 0 0 10px rgba(250, 204, 21, 0.6), 0 0 20px rgba(250, 204, 21, 0.4); }
        .text-glow-emerald { text-shadow: 0 0 8px rgba(52, 211, 153, 0.7); }
        .text-glow-red { text-shadow: 0 0 8px rgba(239, 68, 68, 0.7); }
        .path-item { transition: transform 0.3s ease, box-shadow 0.3s ease; cursor: pointer; }
        .path-item:hover { transform: translateY(-5px) scale(1.03); box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .modal { display: none; transition: opacity 0.3s ease; }
        .modal-content { transform: scale(0.9); transition: transform 0.3s ease; background-color: #1f2937; color: #d1d5db; }
        .modal.flex { display: flex; }
        .modal.opacity-100 .modal-content { transform: scale(1); }
        .icon-shadow-reclamar { filter: drop-shadow(0 4px 8px rgba(239, 68, 68, 0.5)); }
        .icon-shadow-resolver { filter: drop-shadow(0 4px 8px rgba(52, 211, 153, 0.5)); }
        .cta-button { transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s; }
        .cta-button:hover:not(:disabled) { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(250, 204, 21, 0.4); }
        .cta-button:disabled { cursor: not-allowed; opacity: 0.6; }
        .audio-player-container { background-color: #1f2937; border: 1px solid #374151; }
        #play-pause-btn .fa-play, #play-pause-btn .fa-pause { transition: transform 0.2s; }
        #play-pause-btn:hover:not(:disabled) .fa-play, #play-pause-btn:hover:not(:disabled) .fa-pause { transform: scale(1.1); }
        #play-pause-btn:disabled { cursor: not-allowed; opacity: 0.5; }
        #progress-bar { -webkit-appearance: none; appearance: none; width: 100%; height: 6px; background: #374151; outline: none; border-radius: 3px; transition: background 0.3s; }
        #progress-bar::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; background: #facc15; cursor: pointer; border-radius: 50%; border: 2px solid #1f2937; }
        #progress-bar::-moz-range-thumb { width: 18px; height: 18px; background: #facc15; cursor: pointer; border-radius: 50%; border: 2px solid #1f2937; }
        .section-divider { height: 2px; background: linear-gradient(90deg, transparent, #374151, transparent); margin: 4rem auto; width: 80%; }
        
        /* ===== ESTILOS PARA OS MODAIS ===== */
        #pix-qrcode { border: 6px solid white; border-radius: 8px; }
        #pix-code-input { background-color: #374151; user-select: all; }
        .form-input { background-color: #374151; border: 1px solid #4b5563; color: #d1d5db; }
    </style>
</head>
<body class="bg-gray-900">

    <!-- Hero Section -->
    <section class="bg-gray-900 pt-20 pb-16 text-center">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-6xl font-black uppercase tracking-wider text-white">A Sua Vida Parece Bloqueada?</h1>
            <h2 class="mt-4 text-2xl md:text-4xl font-bold text-yellow-400 text-glow-yellow">Existe um caminho para sair do caos. E a escolha é sua.</h2>
            <p class="mt-6 max-w-3xl mx-auto text-lg text-gray-300">Descubra o método para parar de reagir com base na emoção e começar a agir com base na resolução. Abandone o ciclo de frustração e retome o controlo.</p>
            <a href="#comprar" class="cta-button mt-10 inline-block bg-yellow-500 text-gray-900 font-bold text-xl uppercase px-12 py-4 rounded-lg shadow-lg">
                Quero Mudar a Minha Vida Agora
            </a>
        </div>
    </section>

    <!-- Problem Section -->
    <section class="py-16 bg-gray-800/40">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-white">Identifica-se com isto?</h2>
                <p class="mt-3 text-lg text-gray-400">Se alguma destas situações lhe soa familiar, este livro é para si.</p>
            </div>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 text-center">
                <div class="bg-gray-900 p-6 rounded-lg border border-gray-700">
                    <i class="fas fa-sync-alt text-red-500 text-4xl mb-4"></i>
                    <h3 class="font-bold text-xl mb-2 text-white">Ciclos Repetitivos</h3>
                    <p class="text-gray-400">Vive os mesmos problemas em relacionamentos e na carreira, sem saber como sair.</p>
                </div>
                <div class="bg-gray-900 p-6 rounded-lg border border-gray-700">
                    <i class="fas fa-comment-slash text-red-500 text-4xl mb-4"></i>
                    <h3 class="font-bold text-xl mb-2 text-white">Reações Impulsivas</h3>
                    <p class="text-gray-400">Fala ou age no calor do momento e arrepende-se depois, causando mais problemas.</p>
                </div>
                <div class="bg-gray-900 p-6 rounded-lg border border-gray-700">
                    <i class="fas fa-cloud text-red-500 text-4xl mb-4"></i>
                    <h3 class="font-bold text-xl mb-2 text-white">Tempestade Emocional</h3>
                    <p class="text-gray-400">Transforma pequenos problemas em grandes crises, perdendo paz e energia.</p>
                </div>
            </div>
        </div>
    </section>
    
    <div class="section-divider"></div>

    <!-- Solution Intro -->
    <section class="py-16">
        <div class="container mx-auto px-4 flex flex-col lg:flex-row items-center gap-12">
            <div class="lg:w-1/2 flex justify-center">
                <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/WhatsApp%20Image%202025-07-15%20at%2019.49.51.jpeg?alt=media&token=582e0595-d6e7-4039-9ef2-74f2ed6a0dfe" alt="Capa do livro Resolve ou Reclama?" class="rounded-lg shadow-2xl w-64 md:w-80 border-4 border-gray-700 transform hover:scale-105 transition-transform duration-300">
            </div>
            <div class="lg:w-1/2 text-center lg:text-left">
                <h2 class="text-4xl font-black text-white">Apresentando: <span class="text-emerald-400 text-glow-emerald">Resolve ou Reclama?</span></h2>
                <p class="mt-4 text-lg text-gray-300">Este não é um livro de autoajuda com frases vazias. É um manual prático e direto para si, que decidiu parar de ser uma vítima das suas emoções e tornar-se o protagonista da sua vida.</p>
                <p class="mt-4 text-lg text-gray-300">Victor Cruzetta guia-o por um caminho de autoconhecimento e ação, mostrando que a verdadeira força não está em não ter problemas, mas em saber como resolvê-los.</p>
            </div>
        </div>
    </section>
    
    <!-- Podcast Player Section -->
    <section class="py-12 bg-gray-800/40">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-3xl font-bold text-white">Ouça um resumo do livro</h3>
            <p class="text-gray-400 mt-2">Dê o play e descubra em poucos minutos o poder transformador desta leitura.</p>
            
            <div class="audio-player-container max-w-2xl mx-auto mt-8 p-6 rounded-xl shadow-lg">
                <div class="flex items-center space-x-4">
                    <button id="play-pause-btn" class="w-16 h-16 bg-yellow-500 text-gray-900 rounded-full flex items-center justify-center text-3xl cta-button flex-shrink-0">
                        <i class="fas fa-play"></i>
                    </button>
                    <div class="w-full">
                        <div class="text-left">
                            <p class="font-bold text-lg text-white">Resumo em Áudio do Livro</p>
                            <p id="audio-status" class="text-sm text-gray-400">Ouça os principais conceitos de "Resolve ou Reclama?".</p>
                        </div>
                        <div class="flex items-center space-x-3 mt-2">
                            <span id="current-time" class="text-xs text-gray-400">0:00</span>
                            <input type="range" id="progress-bar" value="0" class="w-full">
                            <span id="duration" class="text-xs text-gray-400">0:00</span>
                        </div>
                    </div>
                </div>
            </div>
            <audio id="podcast-audio" src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Resolve%20ou%20Reclama_%20Como%20Treinar%20Suas%20Emo%C3%A7%C3%B5es%20e%20Agir%20Diante%20da%20Adversidade.mp3?alt=media&token=0001fa53-d1d8-428a-ad77-95c32a4714aa" preload="metadata"></audio>
        </div>
    </section>

    <!-- About the Author Section -->
    <section id="autor" class="py-16">
        <div class="container mx-auto px-4">
            <div class="max-w-5xl mx-auto flex flex-col lg:flex-row items-center gap-10 lg:gap-16">
                <!-- Author Photo -->
                <div class="lg:w-1/3 flex justify-center flex-shrink-0">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/livro%20resolve%20ou%20reclama%2FWhatsApp%20Image%202025-07-15%20at%2020.25.31.jpeg?alt=media&token=fba4e6d0-7b23-4997-9fdb-04f18e3219d7" alt="Foto de Victor Cruzetta" class="rounded-full w-52 h-52 md:w-60 md:h-60 object-cover border-4 border-yellow-400 shadow-2xl">
                </div>
                <!-- Author Bio -->
                <div class="lg:w-2/3 text-center lg:text-left">
                    <h2 class="text-4xl font-black text-white">Sobre o Autor</h2>
                    <h3 class="text-2xl font-bold text-yellow-400 mt-2">Victor Cruzetta</h3>
                    <div class="mt-4 space-y-3 text-gray-300 text-lg">
                        <p>Sou o autor do livro “Resolve ou Reclama? Você Escolhe.”</p>
                        <p>Escrevi esse livro como quem escreve um soco com propósito: pra te acordar, não pra te agradar. Não sou guru, coach ou mestre da positividade. Sou alguém que já quebrou, já errou, já perdeu o chão e ainda assim escolheu resolver.</p>
                        <p>Sou empreendedor, consultor, marido da Nayara e pai da Victoria. Trabalho no agronegócio ajudando produtores a serem pagos de forma justa no momento mais decisivo: o abate. Também empreendo na gastronomia e convivo diariamente com decisões difíceis, gente real e problemas que não se resolvem com frases prontas.</p>
                        <p>Acredito que maturidade é parar de terceirizar a vida. É olhar no espelho e assumir a responsabilidade, mesmo quando tudo em volta aponta o contrário.</p>
                        <p>Não trago fórmulas mágicas, mas compartilho verdades que funcionam, porque são vividas.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Infographic Section -->
    <section class="container mx-auto px-4 py-16 text-center">
        <h2 class="text-4xl md:text-5xl font-black uppercase tracking-wider">A Sua Vida numa <span class="text-yellow-400 text-glow-yellow">Encruzilhada</span></h2>
        <p class="mt-4 text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">O livro mostra-lhe dois caminhos. A escolha de qual seguir define o seu futuro. Clique nos ícones para explorar as consequências de cada decisão.</p>
    
        <div class="mt-12 max-w-7xl mx-auto flex flex-col md:flex-row justify-center gap-8 md:gap-16">
            <!-- Caminho da Reclamação -->
            <div class="w-full md:w-2/5 px-4 z-10">
                <h3 class="text-3xl md:text-4xl font-bold text-center text-red-500 text-glow-red mb-8">O CAMINHO DA RECLAMAÇÃO</h3>
                <div class="space-y-8">
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-red-500" onclick="openInfoModal('Vitimismo Crónico', 'Acreditar que você é a vítima é o caminho mais curto pra você reclamar da vida, dos outros, do mundo e não resolver porcaria nenhuma. Você entrega o controle das suas emoções pra outra pessoa.', 'reclamar')">
                        <div class="w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center icon-shadow-reclamar flex-shrink-0"><i class="fas fa-ban text-red-400 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Vitimismo Crónico</h4><p class="text-gray-400">Permanece preso à dor e à culpa.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-red-500" onclick="openInfoModal('Estagnação e Medo', 'O conforto significa permanecer exatamente onde você está, preso à mesma rotina, com medo de arriscar algo diferente. Você enterra seus talentos em reclamações.', 'reclamar')">
                        <div class="w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center icon-shadow-reclamar flex-shrink-0"><i class="fas fa-box text-red-400 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Estagnação e Medo</h4><p class="text-gray-400">O medo paralisa e a vida repete-se.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-red-500" onclick="openInfoModal('Relações Destruídas', 'Quem briga por tudo, se cansa. Quem dramatiza tudo, perde credibilidade. E quem sente demais, pensa de menos. Você se torna uma bomba-relógio.', 'reclamar')">
                        <div class="w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center icon-shadow-reclamar flex-shrink-0"><i class="fas fa-exclamation-triangle text-red-400 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Relações Destruídas</h4><p class="text-gray-400">O drama constante afasta as pessoas.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-red-500" onclick="openInfoModal('Impulsividade e Ruína', 'Você não quer solução. Você quer alívio. Mas alívio não é resolução. É distração. O imediatismo te promete alívio, e entrega ruína.', 'reclamar')">
                        <div class="w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center icon-shadow-reclamar flex-shrink-0"><i class="fas fa-bolt text-red-400 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Impulsividade e Ruína</h4><p class="text-gray-400">Decisões apressadas levam a perdas.</p></div>
                    </div>
                </div>
            </div>

            <!-- Caminho da Resolução -->
            <div class="w-full md:w-2/5 px-4 z-10">
                <h3 class="text-3xl md:text-4xl font-bold text-center text-emerald-400 text-glow-emerald mb-8">O CAMINHO DA RESOLUÇÃO</h3>
                <div class="space-y-8">
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-emerald-400" onclick="openInfoModal('Autonomia e Controlo', 'Você para de reagir e começa a agir. Você recupera o controle. Você cresce. A culpa é do abusador. A responsabilidade de sair é sua.', 'resolver')">
                        <div class="w-16 h-16 bg-emerald-900/50 rounded-full flex items-center justify-center icon-shadow-resolver flex-shrink-0"><i class="fas fa-key text-emerald-300 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Autonomia e Controlo</h4><p class="text-gray-400">Assume a responsabilidade pela vida.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-emerald-400" onclick="openInfoModal('Crescimento e Recomeço', 'O recomeço não depende da idade — depende da sua coragem emocional. Você troca o \\\'meu tempo passou\\\' por \\\'meu tempo recomeça agora.\\\'', 'resolver')">
                        <div class="w-16 h-16 bg-emerald-900/50 rounded-full flex items-center justify-center icon-shadow-resolver flex-shrink-0"><i class="fas fa-chart-line text-emerald-300 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Crescimento e Recomeço</h4><p class="text-gray-400">Usa fracassos como aprendizagem.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-emerald-400" onclick="openInfoModal('Maturidade Emocional', 'Maturidade é ficar desconfortável por um tempo - para não destruir tudo de vez. É saber esperar com consciência. É ter coragem de observar antes de reagir.', 'resolver')">
                        <div class="w-16 h-16 bg-emerald-900/50 rounded-full flex items-center justify-center icon-shadow-resolver flex-shrink-0"><i class="fas fa-brain text-emerald-300 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Maturidade Emocional</h4><p class="text-gray-400">Controla reações e usa o tempo.</p></div>
                    </div>
                    <div class="path-item bg-gray-800 rounded-xl p-6 flex items-center space-x-4 border-l-4 border-emerald-400" onclick="openInfoModal('Paz Interior e Resiliência', 'Perdoar não é dar razão. É dar liberdade a si mesmo. Levanta, limpa o joelho e mostra que quem manda no jogo... é você.', 'resolver')">
                        <div class="w-16 h-16 bg-emerald-900/50 rounded-full flex items-center justify-center icon-shadow-resolver flex-shrink-0"><i class="fas fa-smile-beam text-emerald-300 text-3xl"></i></div>
                        <div><h4 class="text-xl font-bold">Paz Interior e Resiliência</h4><p class="text-gray-400">Liberta-se da mágoa e encontra força.</p></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Testimonials Section -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-center text-3xl md:text-4xl font-bold text-white mb-12">O que os leitores dizem</h2>
            <div class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-800 p-8 rounded-lg border border-gray-700">
                    <i class="fas fa-quote-left text-yellow-400 text-3xl mb-4"></i>
                    <p class="text-gray-300 mb-4">"Este livro foi um soco no estômago e um abraço ao mesmo tempo. Parei de dar desculpas e comecei a agir. A minha vida profissional desbloqueou."</p>
                    <p class="font-bold text-white">- Mariana S.</p>
                </div>
                <div class="bg-gray-800 p-8 rounded-lg border border-gray-700">
                    <i class="fas fa-quote-left text-yellow-400 text-3xl mb-4"></i>
                    <p class="text-gray-300 mb-4">"A forma como o autor fala sobre responsabilidade emocional mudou o meu casamento. As discussões diminuíram e a conexão aumentou. Leitura obrigatória."</p>
                    <p class="font-bold text-white">- Ricardo L.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA & Guarantee Section -->
    <section id="comprar" class="bg-gradient-to-t from-gray-900 to-gray-800 py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-black text-white">Pronto para escolher o caminho da resolução?</h2>
            <p class="text-lg text-gray-300 mt-4 mb-6 max-w-xl mx-auto">A sua vida não precisa de ser um ciclo de repetições. Quebre esse padrão agora.</p>
            
            <div class="bg-gray-900 border-2 border-yellow-400 max-w-md mx-auto p-8 rounded-xl shadow-2xl">
                <p class="text-xl text-white">Acesso imediato ao eBook completo por apenas:</p>
                <p class="text-7xl font-black text-yellow-400 my-4 text-glow-yellow">R$ 19,00</p>
                <button id="buy-button" class="cta-button w-full bg-yellow-500 text-gray-900 font-bold text-xl uppercase px-12 py-4 rounded-lg shadow-lg flex items-center justify-center">
                    <i class="fa-brands fa-pix mr-3"></i> Pagar com PIX
                </button>
            </div>
            
            <div class="mt-8 flex items-center justify-center space-x-4 text-emerald-400">
                <i class="fas fa-shield-alt text-3xl"></i>
                <div>
                    <h4 class="font-bold text-lg text-white">Garantia de 7 Dias</h4>
                    <p class="text-gray-400">Se não sentir que este livro pode mudar a sua perspetiva, o seu dinheiro de volta. Sem perguntas.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="bg-black text-center py-8">
        <p class="text-gray-500">&copy; 2025 Victor Cruzetta. Todos os direitos reservados.</p>
        <p class="text-gray-500 text-sm mt-2">Dúvidas ou problemas? Contacte <a href="mailto:seu-email-de-suporte@exemplo.com" class="underline hover:text-yellow-400">seu-email-de-suporte@exemplo.com</a></p>
    </footer>

    <!-- Modal Informativo -->
    <div id="info-modal" class="modal fixed inset-0 bg-black bg-opacity-75 items-center justify-center p-4 z-50">
        <div id="info-modal-content" class="modal-content bg-gray-800 rounded-2xl shadow-2xl p-8 max-w-lg w-full text-center border-t-4">
            <h3 id="info-modal-title" class="text-3xl font-bold mb-4"></h3>
            <p id="info-modal-text" class="text-lg text-gray-300 italic mb-6"></p>
            <button onclick="closeModal('info-modal')" class="px-6 py-2 bg-yellow-500 text-gray-900 font-bold rounded-lg hover:bg-yellow-400 transition-colors">Fechar</button>
        </div>
    </div>
    
    <!-- ===== NOVO: MODAL PARA DADOS DO UTILIZADOR ===== -->
    <div id="user-info-modal" class="modal fixed inset-0 bg-black bg-opacity-80 items-center justify-center p-4 z-50">
        <div class="modal-content rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border-t-4 border-yellow-400 relative">
            <button onclick="closeModal('user-info-modal')" class="absolute top-2 right-4 text-2xl text-gray-500 hover:text-white">&times;</button>
            <h3 class="text-2xl font-bold mb-4 text-white">Quase lá!</h3>
            <p class="text-gray-400 mb-6">Precisamos dos seus dados para gerar o pagamento e enviar o seu livro.</p>
            <form id="user-info-form">
                <div class="mb-4 text-left">
                    <label for="firstName" class="block text-sm font-medium text-gray-300 mb-1">Primeiro Nome</label>
                    <input type="text" id="firstName" name="firstName" class="form-input w-full p-3 rounded-lg" required>
                </div>
                <div class="mb-6 text-left">
                    <label for="email" class="block text-sm font-medium text-gray-300 mb-1">Seu melhor e-mail</label>
                    <input type="email" id="email" name="email" class="form-input w-full p-3 rounded-lg" required>
                </div>
                <button type="submit" id="generate-pix-button" class="cta-button w-full bg-yellow-500 text-gray-900 font-bold text-lg uppercase py-3 rounded-lg">
                    Gerar PIX
                </button>
                <p id="form-message" class="text-sm text-red-400 mt-3 h-5"></p>
            </form>
        </div>
    </div>
    
    <!-- ===== MODAL PARA O PIX ===== -->
    <div id="pix-modal" class="modal fixed inset-0 bg-black bg-opacity-80 items-center justify-center p-4 z-50">
        <div class="modal-content rounded-2xl shadow-2xl p-8 max-w-md w-full text-center border-t-4 border-yellow-400 relative">
            <button onclick="closeModal('pix-modal')" class="absolute top-2 right-4 text-2xl text-gray-500 hover:text-white">&times;</button>
            <h3 class="text-2xl font-bold mb-2 text-white">Pague com PIX para finalizar</h3>
            <p class="text-gray-400 mb-4">Abra o app do seu banco e escaneie o código abaixo.</p>
            <div class="flex justify-center">
                 <img id="pix-qrcode" src="" alt="PIX QR Code" class="w-64 h-64 mx-auto mb-4 bg-white p-1">
            </div>
            <p class="text-gray-400 mb-2">Ou use o PIX Copia e Cola:</p>
            <div class="relative">
                <input id="pix-code-input" type="text" class="w-full p-3 text-center text-sm rounded-lg" readonly>
                <button onclick="copyPixCode()" class="absolute top-1/2 right-3 -translate-y-1/2 text-gray-400 hover:text-white">
                    <i class="fas fa-copy"></i>
                </button>
            </div>
            <p id="copy-message" class="text-sm text-emerald-400 mt-2 h-4"></p>
            <p class="text-xs text-gray-500 mt-6">Após o pagamento, você receberá o acesso ao e-book no e-mail fornecido.</p>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script>
    <script src="firebase-config.js"></script>

    <script>
        // --- SCRIPT DO MODAL INFORMATIVO (ANTIGO) ---
        const infoModal = document.getElementById('info-modal');
        const infoModalContent = document.getElementById('info-modal-content');
        const infoModalTitle = document.getElementById('info-modal-title');
        const infoModalText = document.getElementById('info-modal-text');

        function openInfoModal(title, text, type) {
            infoModalTitle.textContent = title;
            infoModalText.textContent = `"${text}"`;
            
            if (type === 'reclamar') {
                infoModalContent.style.borderColor = '#ef4444';
                infoModalTitle.style.color = '#f87171';
            } else {
                infoModalContent.style.borderColor = '#34d399';
                infoModalTitle.style.color = '#6ee7b7';
            }
            openModal('info-modal');
        }

        // --- SCRIPT DO LEITOR DE ÁUDIO ---
        document.addEventListener('DOMContentLoaded', () => {
            const audio = document.getElementById('podcast-audio');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = '<i class="fas fa-play"></i>';
            const pauseIcon = '<i class="fas fa-pause"></i>';
            const progressBar = document.getElementById('progress-bar');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const audioStatus = document.getElementById('audio-status');

            if(playPauseBtn) {
                playPauseBtn.addEventListener('click', () => {
                    if (audio.paused) {
                        audio.play().catch(e => {
                             console.error("Erro ao tentar reproduzir o áudio:", e);
                             audioStatus.innerHTML = `<span class="text-red-500">Falha ao iniciar. Interaja com a página e tente novamente.</span>`;
                        });
                    } else {
                        audio.pause();
                    }
                });

                audio.addEventListener('playing', () => { playPauseBtn.innerHTML = pauseIcon; });
                audio.addEventListener('pause', () => { playPauseBtn.innerHTML = playIcon; });
                audio.addEventListener('error', (e) => {
                    console.error("Erro detalhado no elemento de áudio:", audio.error);
                    audioStatus.innerHTML = `<span class="text-red-500">Erro ao carregar o áudio. Verifique a consola (F12).</span>`;
                    playPauseBtn.disabled = true;
                });
                audio.addEventListener('timeupdate', () => {
                    const progress = (audio.duration > 0) ? (audio.currentTime / audio.duration) * 100 : 0;
                    progressBar.value = progress;
                    currentTimeEl.textContent = formatTime(audio.currentTime);
                });
                audio.addEventListener('loadedmetadata', () => { durationEl.textContent = formatTime(audio.duration); });
                progressBar.addEventListener('input', () => {
                    if(audio.duration > 0) { audio.currentTime = (progressBar.value / 100) * audio.duration; }
                });
                audio.addEventListener('ended', () => {
                    playPauseBtn.innerHTML = playIcon;
                    progressBar.value = 0;
                    audio.currentTime = 0;
                });
                function formatTime(seconds) {
                    if (isNaN(seconds) || seconds < 0) return "0:00";
                    const minutes = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${minutes}:${secs < 10 ? '0' : ''}${secs}`;
                }
            }
        });

        // ===== NOVO SCRIPT DE PAGAMENTO E MODAIS =====
        document.addEventListener('DOMContentLoaded', () => {
            const functions = firebase.functions();
            const createPixPayment = functions.httpsCallable('createPixPayment');

            // Elementos dos Modais
            const buyButton = document.getElementById('buy-button');
            const userInfoModal = document.getElementById('user-info-modal');
            const pixModal = document.getElementById('pix-modal');
            const userInfoForm = document.getElementById('user-info-form');
            const generatePixButton = document.getElementById('generate-pix-button');
            const formMessage = document.getElementById('form-message');
            
            const pixQrCodeImg = document.getElementById('pix-qrcode');
            const pixCodeInput = document.getElementById('pix-code-input');
            const copyMessage = document.getElementById('copy-message');

            // Funções genéricas para abrir e fechar modais
            function openModal(modalId) {
                const modal = document.getElementById(modalId);
                modal.classList.add('flex');
                setTimeout(() => modal.classList.add('opacity-100'), 10);
            }
            window.closeModal = function(modalId) {
                const modal = document.getElementById(modalId);
                modal.classList.remove('opacity-100');
                setTimeout(() => modal.classList.remove('flex'), 300);
            }
            
            // Função para copiar o código PIX
            window.copyPixCode = function() {
                pixCodeInput.select();
                try {
                    document.execCommand('copy');
                    copyMessage.textContent = 'Código copiado!';
                    setTimeout(() => { copyMessage.textContent = '' }, 2000);
                } catch (err) {
                    console.error('Não foi possível copiar o código:', err);
                    copyMessage.textContent = 'Erro ao copiar!';
                }
            }

            // Abre o modal de formulário ao clicar em comprar
            buyButton.addEventListener('click', () => {
                openModal('user-info-modal');
            });

            // Lida com o envio do formulário
            userInfoForm.addEventListener('submit', async (e) => {
                e.preventDefault(); // Impede o recarregamento da página
                
                const userFirstName = document.getElementById('firstName').value;
                const userEmail = document.getElementById('email').value;

                // Validação simples
                if (!userFirstName.trim() || !userEmail.trim()) {
                    formMessage.textContent = 'Por favor, preencha todos os campos.';
                    return;
                }

                generatePixButton.disabled = true;
                formMessage.textContent = 'A gerar o seu PIX...';

                try {
                    const result = await createPixPayment({
                        firstName: userFirstName,
                        email: userEmail,
                        productName: "E-book: Resolva ou Reclama?"
                        // O preço agora é definido no backend (na Cloud Function)
                    });
                    
                    pixQrCodeImg.src = `data:image/jpeg;base64,${result.data.qrCodeBase64}`;
                    pixCodeInput.value = result.data.qrCode;

                    closeModal('user-info-modal'); // Fecha o formulário
                    openModal('pix-modal'); // Abre o modal do PIX

                } catch (error) {
                    console.error("Erro ao chamar a função:", error);
                    formMessage.textContent = `Erro: ${error.message}`;
                } finally {
                    generatePixButton.disabled = false;
                     if (formMessage.textContent === 'A gerar o seu PIX...') {
                        formMessage.textContent = '';
                    }
                }
            });
        });
    </script>
</body>
</html>
